graph TD
    %% Current State vs Target State Architecture Comparison
    subgraph Current["ðŸ”´ Current Java 8 Monolithic Architecture"]
        A[IoT Devices] -->|HTTP/MQTT| B[Load Balancer]
        B --> C[Java 8 Monolith]
        C --> D[Single Database]
        C --> E[File Storage]
        
        style C fill:#ffcccc,stroke:#d32f2f,stroke-width:3px
        style D fill:#ffcccc,stroke:#d32f2f,stroke-width:2px
    end
    
    subgraph Target["ðŸŸ¢ Target Cloud-Native Microservice Architecture"]
        subgraph Edge["Edge Layer"]
            AA[IoT Devices] 
            BB[Edge Gateways]
        end
        
        subgraph API["API Layer"]
            CC[API Gateway]
            DD[Service Mesh]
        end
        
        subgraph Services["Microservices Layer"]
            EE[Device Mgmt Service]
            FF[Data Ingestion Service] 
            GG[Stream Processing Service]
            HH[User Mgmt Service]
            II[Reporting Service]
            JJ[Notification Service]
        end
        
        subgraph Stream["Event Streaming"]
            KK[Apache Kafka]
        end
        
        subgraph Data["Polyglot Data Layer"]
            LL[Time-Series DB]
            MM[Document Store] 
            NN[Relational DB]
            OO[Redis Cache]
        end
        
        subgraph Infra["Infrastructure"]
            PP[Kubernetes]
            QQ[Container Registry]
            RR[CI/CD Pipeline]
        end
        
        %% Connections
        AA --> BB
        BB --> CC
        CC --> DD
        DD --> EE
        DD --> FF
        DD --> GG
        DD --> HH
        DD --> II
        DD --> JJ
        
        FF --> KK
        GG --> KK
        JJ --> KK
        
        EE --> MM
        FF --> LL
        GG --> LL
        HH --> NN
        II --> NN
        EE --> OO
        HH --> OO
        
        %% Styling
        style CC fill:#4caf50,stroke:#2e7d32,stroke-width:2px
        style EE fill:#81c784,stroke:#4caf50,stroke-width:2px
        style FF fill:#81c784,stroke:#4caf50,stroke-width:2px
        style GG fill:#81c784,stroke:#4caf50,stroke-width:2px
        style HH fill:#81c784,stroke:#4caf50,stroke-width:2px
        style II fill:#81c784,stroke:#4caf50,stroke-width:2px
        style JJ fill:#81c784,stroke:#4caf50,stroke-width:2px
        style KK fill:#ffc107,stroke:#f57f17,stroke-width:3px
        style PP fill:#9c27b0,stroke:#6a1b9a,stroke-width:2px
    end
